//
//  RTS_Loader.m
//  diplom
//
//  Created by Mac on 26.02.12.
//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.
//

#import "RTS_Loader.h"

@implementation RTS_Loader
static NSString* serverAddress=@"http://www.rts.ru/export/xml/issues.aspx";	
static int EmitentIds[]={16167,15997,16288,16289,1007,413,419,1008,15305,15494,15306,15495,15513,15307,15308,15176,15181,15177,15179,15180,15178,18269,18307,15182,15875,16206,302,74617,745,427,18302,16041,17522,17350,16968,22713,22714,19696,15786,16296,17475,17477,22643,21190,15953,17480,16980,16982,15250,15253,18585,18599,16793,16698,16792,16699,16312,15890,16658,16541,15944,144,13863,145,15886,16320,20667,20671,972,1028,973,1027,304,13812,498,16040,20843,20852,20844,20901,147,15901,148,15860,16314,16313,17300,17302,16305,16304,16501,16502,16311,16310,16659,16353,16660,16509,15010,15701,18180,154,15218,156,16522,15762,15258,299,22430,15528,16061,16523,20369,20370,13891,15213,17582,22487,19643,17967,17680,74417,16387,16388,16764,17038,16749,17039,17943,17055,1000,14021,15021,14022,16275,16826,16778,17026,17352,17303,17353,17304,13939,18577,18649,17021,19600,19601,65910,397,398,12976,16585,20331,20332,13849,13937,17082,15185,15929,12968,12974,430,14020,13955,15196,784,15945,20514,22517,20515,237,15954,81035,81034,315,414,394,15583,19987,19997,16827,22422,75077,19981,19917,17351,16854,683,22431,12949,22451,16640,16881,416,316,13817,19646,21594,15197,15198,241,16000,242,16115,19918,22516,19945,16685,15014,16524,15015,16525,16238,20526,80787,20527,319,410,15540,15885,17118,17119,16526,16527,16476,16746,16747,246,16215,12950,15199,16847,20859,20865,20861,20866,35282,35288,249,15549,20422,20433,17484,15333,254,16088,922,15596,258,15847,16995,17023,16996,17024,15977,16347,15719,15913,16478,16273,322,15214,18275,809,15519,15254,17968,17958,17305,16032,16043,18182,18193,16868,17009,17410,18209,17411,17636,17592,17981,261,14023,708,15200,263,15347,696,15348,265,16059,266,16058,15806,16197,267,16062,686,16528,21115,21967,21170,22543,327,15996,75093,917,16291,16292,21160,16479,16467,16480,16468,328,15535,15492,15514,17120,17121,15229,15488,16442,16356,16443,16578,331,15322,15195,16106,272,15798,19566,17537,17553,74616,332,22427,399,400,14003,15324,278,16194,280,16575,16403,16481,16748,334,14000,335,14001,19634,19639,679,15380,697,15321,16781,22437,763,17538,16042,17356,15883,22816,22818,15845,21465,336,12982,337,13933,17072,17539,996,16576,17716,338,15853,339,15854,15524,17550,16492,16493,22703,16482,16307,16483,16306,20860,66070,285,16201,999,20915,20939,14077,16566,16385,20259,20260,20975,80788,20974,20976,20973,20345,20343,20105,20122,20334,20333,20372,20373,20232,20233,20474,20479,20300,20301,16433,16386,340,80789,401,17008,16958,16810,16833,16853,16819,20780,20781,16060,16098,80734,80735,22449,16394,22425,16089,17193,17191,17194,17493,19616,19618,17486,18478,18486,16558,16559,16113,16114,16564,16507,16565,16560,411,412,292,16149,17962,16271,294,16019,15951,22438,15887,80725,80726,19617,80790,19625,15386,16498,16678,16664,16765,16974,16766,16975,13926,14019,295,16294,18395,18408,16665,22447,18711,66105,22708,15848,18508,18509,346,15530,347,15974,15398,15399,15930,22436,16072,685,15978,74741,74742,17974,80791,17842,17274,80792,17269,16907,80793,16912,17355,17270,16450,16459,17363,17552,16202,17089,17367,17159,17478,17492,17210,17631,17211,17252,13854,15255,13954,16529,16753,19784,19785,18873,16667,13898,13873,16972,16978,16832,16979,16913,16882,350,16599,17158,17659,17428,17449,17429,15013,16598,16272,15165,16348,15572,14012,81105,18348,18424,18622,18849,746,14059,747,15822,21109,17122,22423,17232,15390,14060,283,12959,17135,17349,17224,17319,18229,22439,18227,16002,15389,16438,15855,21157,279,16204,19872,17629,22557,66123,35249,35276,15499,16549,16211,18831,16406,16567,16568,16569,17681,80794,17841,15479,74777,74778,20367,65998,66653,18362,15224,15341,20399,20400,65970,17190,17542,17265,22428,17635,18618,18682,940,16530,35240,80786,16662,16661,18181,355,404,356,405,18578,17718,16815,16985,16816,17025,16473,15542,74730,66845,66846,17189,17293,17971,18367,15975,16508,16562,16506,17427,359,15575,360,429,15317,361,13940,362,13941,363,22432,406,364,22433,407,16817,22446,22452,15871,17535,22211,22190,75477,75478,18315,16848,66649,264,80795,409,15319,16018,16193,18226,18228,448,458,66034,66032,66033,74682,20170,21635,16274,16290,16519,16533,17116,17117,16393,16295,16485,16534,22448,22450,366,22429,402,134,22440,403,17961,15994,252,16001,16914,13953,13943,15884,15889,19695,19727,22811,22810,16710,16750,15392,15201,15202,12964,15563,18728,18730,18729,18748,16081,16256,13942,13871,997,17443,17218,17444,17219,224,15325,15468,15217,19645,19647,219,16186,15387,16570,216,16287,15290,15751,15394,15803,16486,16344,16487,16571,375,22434,408,376,13945,20409,20234,212,66686,418,17965,80796,17952,17721,17595,17722,17732,17963,17848,17964,17849,17275,17266,17276,17271,18772,18848,17364,17462,17476,18419,18420,19712,19708,18396,18392,17991,17992,13932,16751,66889,989,16608,16548,204,13815,653,74635,74634,74632,74633,15888,15388,15580,16820,17047,16818,17048,16726,17022,16727,17959,74564,17479,16378,22445,1047,22435,15539,16690,16686,65843,65840,65950,16691,65841,66685,66651,16687,16689,16688,65842,17192,17536,20669,20668,16301,16300,15320,15252,16431,16334,16432,16335,379,13893,16410,16367,15203,15527,15204,14004,16415,16354,16488,16355,844,179,15916,176,15998,938,15999,175,15976,939,15995,634,15946,22690,22693,170,22441,16257,18330,12963,13921,20794,13897,15911,81085,16780,16414,16418,16984,21152,18812,15339,15338,16205,16416,16621,16489,16471,22488,35289,15774,168,13916,35224,35227,74684,17171,15362,15963,15801,19077,19078,17015,15703,15956,17395,17408,12960,20945,20948,20946,20950,16346,17090,17092,16651,16760,16728,16761,159,15708,20663,20670,18598,22424,18597,80626,16627,16628,16020,15546,16309,16308,665,15205,1048,13889,17858,17867,17859,17868,149,13938,20210,20223,503,15206,16071,16085,16504,16490,16302,16491,16303,428,16857,15378,16051,1011,16531,65709,16762,142,16055,13896,16532,15700,15699};
static int EmitentMarkets[]={11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,3,11,3,38,11,11,11,3,11,3,11,3,11,11,11,11,3,11,3,11,3,11,11,11,11,11,3,11,3,11,3,11,11,11,3,11,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,11,11,3,11,11,11,11,11,11,11,3,11,3,11,3,11,11,3,11,3,11,11,11,3,38,11,3,11,3,11,11,11,3,11,3,3,11,11,11,11,3,11,3,11,11,11,3,11,3,11,11,11,3,11,3,11,3,11,11,3,11,11,3,11,11,11,11,3,11,3,11,11,11,11,3,11,11,11,11,11,11,11,11,11,3,38,11,3,11,11,11,3,11,3,11,3,11,3,38,38,3,11,3,11,3,38,11,38,3,11,10,3,11,3,11,11,11,3,11,3,11,3,38,11,11,3,11,3,11,11,3,38,11,3,11,3,11,11,11,11,11,3,11,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,11,11,3,11,11,11,3,11,3,11,3,11,11,11,3,11,3,11,3,11,3,11,11,11,3,11,11,11,11,3,11,3,11,3,11,3,11,11,11,3,11,3,11,3,11,3,11,3,11,3,11,11,11,3,11,3,11,3,11,3,11,3,11,11,11,11,11,11,3,11,3,11,3,11,11,11,11,11,3,11,3,11,3,11,3,11,3,11,3,11,11,11,11,3,3,38,11,11,11,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,3,11,3,38,11,11,11,3,11,3,11,11,11,3,11,3,11,3,11,3,11,11,3,11,3,11,11,11,11,11,11,3,11,3,11,3,11,3,11,11,3,11,11,11,11,3,11,3,38,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,38,11,3,11,3,11,3,11,3,11,3,11,3,11,38,3,38,11,3,11,3,11,3,11,11,3,11,11,11,11,11,3,11,3,11,11,11,3,11,3,11,3,11,3,38,11,3,11,3,38,11,11,11,11,11,3,11,3,11,11,11,3,11,11,11,11,38,11,3,11,11,3,11,3,11,3,11,11,11,3,38,11,3,11,3,11,3,38,11,3,38,11,3,38,11,3,11,3,11,3,11,11,11,11,11,11,11,3,11,3,11,3,11,3,11,11,3,11,11,11,11,11,3,11,3,11,11,11,3,11,11,3,11,3,11,3,11,11,3,11,11,11,11,3,11,3,11,3,11,3,11,11,3,38,11,11,11,3,11,3,11,3,11,3,38,11,11,11,11,11,11,3,11,11,11,3,11,3,11,11,11,11,11,11,11,11,11,3,38,11,11,3,11,3,11,11,11,11,11,3,11,11,3,11,3,38,11,3,11,3,11,3,38,11,11,11,3,11,3,11,3,11,3,11,3,11,11,11,3,3,11,3,11,3,11,11,11,3,11,11,3,11,3,11,11,3,11,3,11,3,38,11,3,38,11,11,38,38,3,11,3,11,3,11,11,11,11,3,38,11,3,11,11,3,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,3,11,3,11,38,38,3,38,11,3,38,11,3,11,3,11,11,11,11,11,11,3,11,3,11,11,11,11,11,11,11,11,3,11,3,11,3,11,11,11,11,3,11,3,11,3,11,11,11,3,11,3,11,11,11,3,11,3,11,3,11,3,11,3,11,3,38,11,3,11,3,11,10,11,11,3,38,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,3,11,11,11,3,11,3,11,11,3,11,3,11,11,11,11,3,11,3,11,3,11,3,11,3,3,11,38,3,38,11,11,11,11,11,11,11,11,11,11,11,11,11,11,3,11,3,11,11,11,11,11,3,11,3,11,3,11,11,11,11,11,11,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,3,38,11,11,11,11,11,3,11,11,11,11,3,11,3,11,11,11,11,3,11,3,11,11,11,11,3,11,3,11,11,11,11,11,11,11,11,11,11,11,3,11,11,3,11,3,11,11,3,11,3,11,3,11,3,11,3,11,3,38,11,11,11,11,11,11,11,11,3,11,3,11,3,11,3,11,3,11,3,11,3,11,11,11,11,3,11,3,11,11,11,3,11,3,11,11,11,3,11,3,11,11,11};    
static NSString* EmitentNames[]={@"RTS.-RUR",@"RTS.SGMLG",@"RTS.TAGRG",@"RTS.TAGRPG",@"#KVASG",@"#PYRAG",@"#RTSX",@"#UMORG",@"+EESRG",@"+GMKNG",@"+LKOHG",@"+MSNGG",@"+RTKMG",@"+SNGSG",@"+YUKOG",@"-EESRG",@"-GMKNG",@"-LKOHG",@"-MSNGG",@"-RTKMG",@"-SNGSG",@"-TGKAG",@"-VIMPG",@"-YUKOG",@"AFKS",@"AFKSG",@"AFLT",@"AFLT(RTS-Standart)",@"AFLT01G",@"AFLTG",@"AGAMITG",@"AKHA",@"AKHAG",@"AKRN",@"AKRNG",@"ALNU",@"ALNUG",@"ALRTG",@"AMENG",@"AMENPG",@"AMEZ",@"AMEZG",@"ANGA",@"ANGAG",@"APTK",@"APTKG",@"ARGRG",@"ARGRPG",@"ARHEG",@"ARHEPG",@"ARMD",@"ARMDG",@"ARSB",@"ARSBG",@"ARSBP",@"ARSBPG",@"ASGRG",@"ASREG",@"ASSB",@"ASSBG",@"ATLMG",@"AVAZ",@"AVAZG",@"AVAZP",@"AVAZPG",@"AVIAG",@"AZKM",@"AZKMG",@"BANE",@"BANEG",@"BANEP",@"BANEPG",@"BEGY",@"BEGYG",@"BEGYP",@"BEGYPG",@"BENR",@"BENRG",@"BENRP",@"BENRPG",@"BISV",@"BISVG",@"BISVP",@"BISVPG",@"BLGRG",@"BLGRPG",@"BLNG",@"BLNGG",@"BLRSG",@"BLRSPG",@"BLSBG",@"BLSBPG",@"BNGRG",@"BNGRPG",@"BNSB",@"BNSBG",@"BNSBP",@"BNSBPG",@"BRZL",@"BRZLG",@"BUSBG",@"CHEP",@"CHEPG",@"CHGZ",@"CHGZG",@"CHIEG",@"CHIEPG",@"CHMF",@"CHMF(RTS-Standart)",@"CHMFG",@"CHMK",@"CHMKG",@"CHMZ",@"CHMZG",@"CHNGG",@"CHNGPG",@"CHSB",@"CHSBG",@"CHSBP",@"CHZN",@"CHZNG",@"CITBG",@"CLGRG",@"CLGRPG",@"CLSB",@"CLSBG",@"CLSBP",@"CLSBPG",@"CMKTG",@"CMSTG",@"CNTL",@"CNTLG",@"CNTLP",@"CNTLPG",@"CRGRG",@"DAGRG",@"DASB",@"DASBG",@"DGBZ",@"DGBZG",@"DGBZP",@"DGBZPG",@"DGENG",@"DIXY",@"DIXYG",@"DTGRG",@"DVEC",@"DVECG",@"EAGRG",@"EESRG",@"EESRPG",@"ELIB",@"ELIBG",@"ELTZ",@"ELTZG",@"ENCOG",@"ENCOPG",@"ENGYG",@"ERCO",@"ERCOG",@"ESBUPG",@"ESHSG",@"ESMOG",@"ESMOPG",@"ESPKG",@"ESPKPG",@"ESVOG",@"FARMG",@"FEES",@"FEES(RTS-Standart)",@"FEESG",@"FESH",@"FESHG",@"FINMITG",@"FINMKVG",@"GAZA",@"GAZAG",@"GAZAP",@"GAZAPG",@"GAZC",@"GAZCG",@"GAZP",@"GAZP(RTS-Standart)",@"GAZR(RTS-Standart)",@"GAZS",@"GAZSG",@"GCHE",@"GCHEG",@"GMKN",@"GMKN(RTS-Standart)",@"GMKNG",@"GMKR(RTS-Standart)",@"GRAZ",@"GRAZG",@"GSPBEX",@"GUMM",@"GUMMG",@"HALS",@"HALSG",@"HBENG",@"HBENPG",@"HIMC",@"HIMCG",@"HIMCP",@"HIMCPG",@"HYDR",@"HYDR(RTS-Standart)",@"HYDRG",@"IFCAING",@"IGST",@"IGSTG",@"IGSTP",@"IGSTPG",@"ILSOG",@"IRAO",@"IRAO(RTS-Standart)",@"IRAOG",@"IRGZ",@"IRGZG",@"IRKT",@"IRKTG",@"IVENG",@"IVENPG",@"IVGRG",@"IVGRPG",@"IVSB",@"IVSBG",@"IVSBPG",@"JNOS",@"JNOSG",@"JNOSP",@"JNOSPG",@"KAGSG",@"KAZT",@"KAZTG",@"KAZTP",@"KAZTPG",@"KBTK",@"KBTKG",@"KCHE",@"KCHEG",@"KCHEP",@"KCHEPG",@"KGOKG",@"KGTSG",@"KHEL",@"KHELG",@"KIREG",@"KIREPG",@"KIRZ",@"KIRZG",@"KISB",@"KISBG",@"KISBP",@"KISBPG",@"KLENG",@"KLGRG",@"KLNA",@"KLNAG",@"KLSB",@"KLSBG",@"KMAZ",@"KMAZG",@"KMTZ",@"KNFTG",@"KOENG",@"KOENPG",@"KOGK",@"KOGKG",@"KOGRG",@"KOLEG",@"KOLEPG",@"KOMM",@"KOMMG",@"KOPK",@"KOPKG",@"KOSB",@"KOSBG",@"KOSBP",@"KOSBPG",@"KOSGG",@"KOSGPG",@"KRGE",@"KRGEG",@"KRGEP",@"KRGEPG",@"KRKN",@"KRKNG",@"KRKNP",@"KRKNPG",@"KRKO",@"KRKOG",@"KRKOP",@"KRKOPG",@"KRNGG",@"KRNGPG",@"KROT",@"KROTG",@"KROTP",@"KROTPG",@"KRSB",@"KRSBG",@"KRSBP",@"KRSBPG",@"KRSG",@"KRSGG",@"KSGRG",@"KSGSG",@"KTGRG",@"KTGRPG",@"KTINARG",@"KTSB",@"KTSBG",@"KTSBP",@"KTSBPG",@"KUBE",@"KUBEG",@"KUBNG",@"KUBNPG",@"KUENG",@"KUENPG",@"KUOS",@"KUOSG",@"KUSB",@"KUSBG",@"KUSBP",@"KUSBPG",@"KZBE",@"KZBEG",@"KZMS",@"KZMSG",@"KZOS",@"KZOSG",@"KZRSG",@"LEKZG",@"LIENG",@"LIFE",@"LKOH",@"LKOH(RTS-Standart)",@"LKOHG",@"LKOHPG",@"LNTCG",@"LNTCPG",@"LOMO",@"LOMOG",@"LOMOP",@"LOMOPG",@"LPGRG",@"LPSB",@"LPSBG",@"LSNG",@"LSNGG",@"LSNGP",@"LSNGPG",@"LSRG",@"LSRGG",@"MAGE",@"MAGEG",@"MAGEP",@"MAGEPG",@"MAGN",@"MAGN(RTS-Standart)",@"MAGN09G",@"MAGNG",@"MANEG",@"MASZ",@"MASZG",@"MDMBP",@"MDMBPG",@"MECHG",@"MEING",@"MFGS",@"MFGSG",@"MFGSP",@"MFGSPG",@"MGNT",@"MGNTG",@"MGNZ",@"MGNZG",@"MGRSG",@"MGTS",@"MGTSG",@"MGTSP",@"MGTSPG",@"MIENG",@"MIENPG",@"MIGRG",@"MIGRPG",@"MINVG",@"MISB",@"MISBG",@"MISBP",@"MISBPG",@"MMBM",@"MMBMG",@"MORI",@"MORIG",@"MOS021G",@"MOTZ",@"MOTZG",@"MRENG",@"MRGCG",@"MRGRG",@"MRKC",@"MRKCG",@"MRKH",@"MRKH(RTS-Standart)",@"MRKHG",@"MRKHP",@"MRKHPG",@"MRKK",@"MRKKG",@"MRKP",@"MRKPG",@"MRKS",@"MRKSG",@"MRKU",@"MRKUG",@"MRKV",@"MRKVG",@"MRKY",@"MRKYG",@"MRKZ",@"MRKZG",@"MRSB",@"MRSBG",@"MSNG",@"MSNG(RTS-Standart)",@"MSNGG",@"MSRS",@"MSRSG",@"MSSB",@"MSSBG",@"MSSV",@"MSSVG",@"MSTT",@"MSTTG",@"MTLR",@"MTLRG",@"MTLRP",@"MTLRPG",@"MTSI(RTS-Standart)",@"MTSS",@"MTSS(RTS-Standart)",@"MTSSG",@"MUGS",@"MUGSG",@"MUGSP",@"MUGSPG",@"MVID",@"MVIDG",@"NATPG",@"NFAZ",@"NFAZG",@"NGGRG",@"NGGRPG",@"NGNRG",@"NGNRPG",@"NGSB",@"NGSBG",@"NGSBP",@"NGSBPG",@"NKELG",@"NKELPG",@"NKNC",@"NKNCG",@"NKNCP",@"NKNCPG",@"NKSH",@"NKSHG",@"NLMK",@"NLMK(RTS-Standart)",@"NLMKG",@"NMOS",@"NMOSG",@"NMTP",@"NMTP(RTS-Standart)",@"NMTPG",@"NNGEG",@"NNGEPG",@"NNGRG",@"NNGRPG",@"NNSB",@"NNSBG",@"NNSBP",@"NNSBPG",@"NNSIG",@"NNSIPG",@"NOKN",@"NOKNG",@"NOMPG",@"NOMPPG",@"NOSPG",@"NOTK(RTS-Standart)",@"NOVANKG",@"NPOF",@"NPOFG",@"NTMKG",@"NTRI",@"NTRIG",@"NVNG",@"NVNGG",@"NVNGP",@"NVNGPG",@"NVRCG",@"NVRCPG",@"NVTK",@"NVTK(RTS-Standart)",@"NVTKG",@"NZGZ",@"NZGZG",@"ODVA",@"ODVAG",@"OGKA",@"OGKA(RTS-Standart)",@"OGKAG",@"OGKB",@"OGKB(RTS-Standart)",@"OGKBG",@"OGKC",@"OGKC(RTS-Standart)",@"OGKCG",@"OGKD",@"OGKDG",@"OGKE",@"OGKEG",@"OGKF",@"OGKFG",@"OIVSG",@"OLMRTSG",@"OMGRG",@"OMGRPG",@"OMNGG",@"OMNGPG",@"OMSB",@"OMSBG",@"OMSBP",@"OMSBPG",@"OMZZ",@"OMZZG",@"OMZZP",@"OMZZPG",@"OPCMG",@"OPIN",@"OPING",@"OPTMG",@"ORGRPG",@"ORNBG",@"ORNBPG",@"ORSB",@"ORSBG",@"ORSBP",@"ORSBPG",@"OTKRBNG",@"OTKRSHG",@"PAZA",@"PAZAG",@"PBGRPG",@"PBSB",@"PBSBG",@"PBSBP",@"PBSBPG",@"PDMS",@"PDMSG",@"PEGSG",@"PETR",@"PETRG",@"PFGSG",@"PFGSPG",@"PHORG",@"PHST",@"PHSTG",@"PIKK",@"PIKKG",@"PKBA",@"PKBAG",@"PKBAP",@"PKBAPG",@"PLNTG",@"PLZL",@"PLZL(RTS-Standart)",@"PLZLG",@"PMNGG",@"PMNGPG",@"PMOT",@"PMOTG",@"PMSB",@"PMSBG",@"PMSBP",@"PMSBPG",@"PMTL",@"PMTL(RTS-Standart)",@"PMTLG",@"PNTZG",@"PNZEG",@"PNZEPG",@"PPNDG",@"PRGINGG",@"PRIM",@"PRIMG",@"PRMIG",@"PROMG",@"PRTH",@"PRTHG",@"PRTK",@"PRTKG",@"PSENG",@"PTGRG",@"PTRLG",@"PTRMG",@"PZGRG",@"PZGRPG",@"PZSBG",@"PZSBPG",@"RASP",@"RASP(RTS-Standart)",@"RASPG",@"RBCIG",@"RBCM",@"RBCMG",@"REMTSP",@"REMTSPG",@"RENMAMG",@"RENRTSG",@"RITKG",@"RITKPG",@"RKKE",@"RKKEG",@"ROELCRG",@"ROSB",@"ROSBG",@"ROSN",@"ROSN(RTS-Standart)",@"ROSNG",@"ROST",@"ROSTG",@"RSAM",@"RSAMG",@"RSEA",@"RSTR(RTS-Standart)",@"RTGRG",@"RTGRPG",@"RTKKG",@"RTKM",@"RTKMG",@"RTKMP",@"RTKMPG",@"RTMC",@"RTMCG",@"RTSB",@"RTSBG",@"RTSBP",@"RTSBPG",@"RTSEG",@"RTSEPG",@"RUAL",@"RUGR",@"RUGRG",@"RUSI",@"RUSIG",@"RUSP",@"RUSPG",@"RZENG",@"RZGRG",@"RZSB",@"RZSBG",@"SABPPG",@"SAGO",@"SAGOG",@"SAGOP",@"SAGOPG",@"SANGG",@"SARE",@"SAREG",@"SAREP",@"SAREPG",@"SBER",@"SBER(RTS-Standart)",@"SBERG",@"SBERP",@"SBERP(RTS-Standart)",@"SBERPG",@"SBNKG",@"SBPR(RTS-Standart)",@"SBRF(RTS-Standart)",@"SCON",@"SCONG",@"SELG",@"SELGG",@"SEMZ",@"SEMZG",@"SGMAG",@"SHGSG",@"SIBKSHG",@"SIBN",@"SIBN(RTS-Standart)",@"SIBNG",@"SILM",@"SILMG",@"SILVG",@"SITR",@"SITRG",@"SKGZG",@"SKGZPG",@"SLDMDIG",@"SLDMING",@"SLDMSIG",@"SMARRIG",@"SMARSMG",@"SMARZAG",@"SMGRG",@"SMGRPG",@"SMGSG",@"SMGSPG",@"SMOEG",@"SMOEPG",@"SMSB",@"SMSBG",@"SMSBP",@"SMSBPG",@"SNGP(RTS-Standart)",@"SNGR(RTS-Standart)",@"SNGS",@"SNGS(RTS-Standart)",@"SNGSG",@"SNGSP",@"SNGSP(RTS-Standart)",@"SNGSPG",@"SNOZ",@"SNOZG",@"SNTZ",@"SNTZG",@"SPGRG",@"SPTLG",@"SPTLPG",@"SSHGG",@"SSHGPG",@"STBK",@"STBKG",@"STBKPA",@"STBKPAG",@"STGRG",@"STGRPG",@"STGSG",@"STNGG",@"STNGPG",@"STRGG",@"STRGPG",@"STSB",@"STSBG",@"STSBP",@"STSBPG",@"SVAV",@"SVAVG",@"SVERG",@"SVERPG",@"SVLNG",@"SVSB",@"SVSBG",@"SVSBP",@"SVSBPG",@"SVTZ",@"SVTZG",@"SVZKG",@"SVZKPG",@"SYNG",@"SYNGG",@"SZRP",@"SZRPG",@"TAENG",@"TAENPG",@"TAMZ",@"TAMZG",@"TANL",@"TANLG",@"TANLP",@"TANLPG",@"TASB",@"TASBG",@"TASBP",@"TASBPG",@"TATN",@"TATN(RTS-Standart)",@"TATNG",@"TATNP",@"TATNPG",@"TCBN",@"TCBNG",@"TEST2",@"TEST9",@"TFTK01",@"TGKA",@"TGKA(RTS-Standart)",@"TGKAG",@"TGKB",@"TGKBG",@"TGKBP",@"TGKBPG",@"TGKD",@"TGKDG",@"TGKDP",@"TGKDPG",@"TGKE",@"TGKEG",@"TGKF",@"TGKFG",@"TGKG",@"TGKGG",@"TGKHG",@"TGKI",@"TGKIG",@"TGKJ",@"TGKJG",@"TGKK",@"TGKKG",@"TGKM",@"TGKMG",@"TGKN",@"TGKNG",@"TGKO",@"TGKOG",@"TGVKG",@"TLENG",@"TLSB",@"TLSBG",@"TMAT",@"TMATG",@"TMNGG",@"TNBP",@"TNBPG",@"TNBPP",@"TNBPPG",@"TNKOG",@"TOMEG",@"TOMEPG",@"TORS",@"TORSG",@"TORSP",@"TORSPG",@"TOSB",@"TOSBG",@"TOSBP",@"TOSBPG",@"TRCN",@"TRMK",@"TRMKG",@"TRNF(RTS-Standart)",@"TRNFP",@"TRNFP(RTS-Standart)",@"TRNFPG",@"TROYDNG",@"TROYDRG",@"TROYENG",@"TROYFDG",@"TROYFSG",@"TROYIMG",@"TROYMTG",@"TROYNCG",@"TROYPSG",@"TROYPTG",@"TROYRBG",@"TROYSDG",@"TROYTCG",@"TTLK",@"TTLKG",@"TUZA",@"TUZAG",@"TVGRG",@"TVGRPG",@"TVREG",@"TVREPG",@"TVSB",@"TVSBG",@"TVSBP",@"TVSBPG",@"TZUM",@"TZUMG",@"UDGRG",@"UDGRPG",@"UDMEG",@"UDMEPG",@"UDMNG",@"UDMNPG",@"UDSB",@"UDSBG",@"UDSBP",@"UDSBPG",@"UDTLG",@"UFMO",@"UFMOG",@"UFNC",@"UFNCG",@"UFNCP",@"UFNCPG",@"UFOS",@"UFOSG",@"UFOSP",@"UFOSPG",@"UKUZ",@"UKUZG",@"UNAC",@"UNACG",@"URKA",@"URKA(RTS-Standart)",@"URKAG",@"URSAPG",@"URSIG",@"URSIPG",@"USAMCIG",@"USBN",@"USBNG",@"UTIIG",@"UUGSG",@"VDGRG",@"VDSB",@"VDSBG",@"VERT",@"VERTG",@"VGENG",@"VGENPG",@"VGOKG",@"VGSB",@"VGSBG",@"VGSBP",@"VGSBPG",@"VICMPZG",@"VICMTZG",@"VIMPG",@"VJGZ",@"VJGZG",@"VJGZP",@"VJGZPG",@"VLDIMSG",@"VLENG",@"VLGSG",@"VLGSPG",@"VLGTG",@"VMRKG",@"VMRKPG",@"VOLEG",@"VOLGG",@"VOLGPG",@"VOSB",@"VOSBG",@"VOTGG",@"VRAO",@"VRAOG",@"VRAOP",@"VRAOPG",@"VRGRG",@"VRPH",@"VRPHG",@"VRSB",@"VRSBG",@"VRSBP",@"VRSBPG",@"VSMO",@"VSMOG",@"VSMZ",@"VSMZG",@"VTBR",@"VTBR(RTS-Standart)",@"VTBRG",@"VTLDG",@"VYGRG",@"VYGRPG",@"VZENG",@"VZENPG",@"VZGRG",@"VZGRPG",@"VZRZ",@"VZRZG",@"WBDF",@"WBDFG",@"WTCM",@"WTCMG",@"WTCMP",@"WTCMPG",@"YAEN",@"YAENG",@"YAENP",@"YAENPG",@"YAKG",@"YAKGG",@"YAREG",@"YAREPG",@"YRGRPG",@"YRSB",@"YRSBG",@"YRSBP",@"YRSBPG",@"YUKOG",@"ZAGRG",@"ZEMC",@"ZEMCG",@"ZILL",@"ZILLG",@"ZIMA",@"ZIOPG",@"ZMZN",@"ZMZNG",@"ZVEZ",@"ZVEZG",@"ZYGSG",@"ZYGSPG"};
static NSString* EmitentCodes[]={@"RTS.-RUR",@"RTS.SGMLG",@"RTS.TAGRG",@"RTS.TAGRPG",@"RTS.#KVASG",@"RTS.#PYRAG",@"RTS.#RTSX",@"RTS.#UMORG",@"RTS.+EESRG",@"RTS.+GMKNG",@"RTS.+LKOHG",@"RTS.+MSNGG",@"RTS.+RTKMG",@"RTS.+SNGSG",@"RTS.+YUKOG",@"RTS.-EESRG",@"RTS.-GMKNG",@"RTS.-LKOHG",@"RTS.-MSNGG",@"RTS.-RTKMG",@"RTS.-SNGSG",@"RTS.-TGKAG",@"RTS.-VIMPG",@"RTS.-YUKOG",@"RTS.AFKS",@"RTS.AFKSG",@"RTS.AFLT",@"RTS.ST.AFLT",@"RTS.AFLT01G",@"RTS.AFLTG",@"RTS.AGAMITG",@"RTS.AKHA",@"RTS.AKHAG",@"RTS.AKRN",@"RTS.AKRNG",@"RTS.ALNU",@"RTS.ALNUG",@"RTS.ALRTG",@"RTS.AMENG",@"RTS.AMENPG",@"RTS.AMEZ",@"RTS.AMEZG",@"RTS.ANGA",@"RTS.ANGAG",@"RTS.APTK",@"RTS.APTKG",@"RTS.ARGRG",@"RTS.ARGRPG",@"RTS.ARHEG",@"RTS.ARHEPG",@"RTS.ARMD",@"RTS.ARMDG",@"RTS.ARSB",@"RTS.ARSBG",@"RTS.ARSBP",@"RTS.ARSBPG",@"RTS.ASGRG",@"RTS.ASREG",@"RTS.ASSB",@"RTS.ASSBG",@"RTS.ATLMG",@"RTS.AVAZ",@"RTS.AVAZG",@"RTS.AVAZP",@"RTS.AVAZPG",@"RTS.AVIAG",@"RTS.AZKM",@"RTS.AZKMG",@"RTS.BANE",@"RTS.BANEG",@"RTS.BANEP",@"RTS.BANEPG",@"RTS.BEGY",@"RTS.BEGYG",@"RTS.BEGYP",@"RTS.BEGYPG",@"RTS.BENR",@"RTS.BENRG",@"RTS.BENRP",@"RTS.BENRPG",@"RTS.BISV",@"RTS.BISVG",@"RTS.BISVP",@"RTS.BISVPG",@"RTS.BLGRG",@"RTS.BLGRPG",@"RTS.BLNG",@"RTS.BLNGG",@"RTS.BLRSG",@"RTS.BLRSPG",@"RTS.BLSBG",@"RTS.BLSBPG",@"RTS.BNGRG",@"RTS.BNGRPG",@"RTS.BNSB",@"RTS.BNSBG",@"RTS.BNSBP",@"RTS.BNSBPG",@"RTS.BRZL",@"RTS.BRZLG",@"RTS.BUSBG",@"RTS.CHEP",@"RTS.CHEPG",@"RTS.CHGZ",@"RTS.CHGZG",@"RTS.CHIEG",@"RTS.CHIEPG",@"RTS.CHMF",@"RTS.ST.CHMF",@"RTS.CHMFG",@"RTS.CHMK",@"RTS.CHMKG",@"RTS.CHMZ",@"RTS.CHMZG",@"RTS.CHNGG",@"RTS.CHNGPG",@"RTS.CHSB",@"RTS.CHSBG",@"RTS.CHSBP",@"RTS.CHZN",@"RTS.CHZNG",@"RTS.CITBG",@"RTS.CLGRG",@"RTS.CLGRPG",@"RTS.CLSB",@"RTS.CLSBG",@"RTS.CLSBP",@"RTS.CLSBPG",@"RTS.CMKTG",@"RTS.CMSTG",@"RTS.CNTL",@"RTS.CNTLG",@"RTS.CNTLP",@"RTS.CNTLPG",@"RTS.CRGRG",@"RTS.DAGRG",@"RTS.DASB",@"RTS.DASBG",@"RTS.DGBZ",@"RTS.DGBZG",@"RTS.DGBZP",@"RTS.DGBZPG",@"RTS.DGENG",@"RTS.DIXY",@"RTS.DIXYG",@"RTS.DTGRG",@"RTS.DVEC",@"RTS.DVECG",@"RTS.EAGRG",@"RTS.EESRG",@"RTS.EESRPG",@"RTS.ELIB",@"RTS.ELIBG",@"RTS.ELTZ",@"RTS.ELTZG",@"RTS.ENCOG",@"RTS.ENCOPG",@"RTS.ENGYG",@"RTS.ERCO",@"RTS.ERCOG",@"RTS.ESBUPG",@"RTS.ESHSG",@"RTS.ESMOG",@"RTS.ESMOPG",@"RTS.ESPKG",@"RTS.ESPKPG",@"RTS.ESVOG",@"RTS.FARMG",@"RTS.FEES",@"RTS.ST.FEES",@"RTS.FEESG",@"RTS.FESH",@"RTS.FESHG",@"RTS.FINMITG",@"RTS.FINMKVG",@"RTS.GAZA",@"RTS.GAZAG",@"RTS.GAZAP",@"RTS.GAZAPG",@"RTS.GAZC",@"RTS.GAZCG",@"RTS.GAZP",@"RTS.ST.GAZP",@"RTS.ST.GAZR",@"RTS.GAZS",@"RTS.GAZSG",@"RTS.GCHE",@"RTS.GCHEG",@"RTS.GMKN",@"RTS.ST.GMKN",@"RTS.GMKNG",@"RTS.ST.GMKR",@"RTS.GRAZ",@"RTS.GRAZG",@"GSPBEX",@"RTS.GUMM",@"RTS.GUMMG",@"RTS.HALS",@"RTS.HALSG",@"RTS.HBENG",@"RTS.HBENPG",@"RTS.HIMC",@"RTS.HIMCG",@"RTS.HIMCP",@"RTS.HIMCPG",@"RTS.HYDR",@"RTS.ST.HYDR",@"RTS.HYDRG",@"RTS.IFCAING",@"RTS.IGST",@"RTS.IGSTG",@"RTS.IGSTP",@"RTS.IGSTPG",@"RTS.ILSOG",@"RTS.IRAO",@"RTS.ST.IRAO",@"RTS.IRAOG",@"RTS.IRGZ",@"RTS.IRGZG",@"RTS.IRKT",@"RTS.IRKTG",@"RTS.IVENG",@"RTS.IVENPG",@"RTS.IVGRG",@"RTS.IVGRPG",@"RTS.IVSB",@"RTS.IVSBG",@"RTS.IVSBPG",@"RTS.JNOS",@"RTS.JNOSG",@"RTS.JNOSP",@"RTS.JNOSPG",@"RTS.KAGSG",@"RTS.KAZT",@"RTS.KAZTG",@"RTS.KAZTP",@"RTS.KAZTPG",@"RTS.KBTK",@"RTS.KBTKG",@"RTS.KCHE",@"RTS.KCHEG",@"RTS.KCHEP",@"RTS.KCHEPG",@"RTS.KGOKG",@"RTS.KGTSG",@"RTS.KHEL",@"RTS.KHELG",@"RTS.KIREG",@"RTS.KIREPG",@"RTS.KIRZ",@"RTS.KIRZG",@"RTS.KISB",@"RTS.KISBG",@"RTS.KISBP",@"RTS.KISBPG",@"RTS.KLENG",@"RTS.KLGRG",@"RTS.KLNA",@"RTS.KLNAG",@"RTS.KLSB",@"RTS.KLSBG",@"RTS.KMAZ",@"RTS.KMAZG",@"RTS.KMTZ",@"RTS.KNFTG",@"RTS.KOENG",@"RTS.KOENPG",@"RTS.KOGK",@"RTS.KOGKG",@"RTS.KOGRG",@"RTS.KOLEG",@"RTS.KOLEPG",@"RTS.KOMM",@"RTS.KOMMG",@"RTS.KOPK",@"RTS.KOPKG",@"RTS.KOSB",@"RTS.KOSBG",@"RTS.KOSBP",@"RTS.KOSBPG",@"RTS.KOSGG",@"RTS.KOSGPG",@"RTS.KRGE",@"RTS.KRGEG",@"RTS.KRGEP",@"RTS.KRGEPG",@"RTS.KRKN",@"RTS.KRKNG",@"RTS.KRKNP",@"RTS.KRKNPG",@"RTS.KRKO",@"RTS.KRKOG",@"RTS.KRKOP",@"RTS.KRKOPG",@"RTS.KRNGG",@"RTS.KRNGPG",@"RTS.KROT",@"RTS.KROTG",@"RTS.KROTP",@"RTS.KROTPG",@"RTS.KRSB",@"RTS.KRSBG",@"RTS.KRSBP",@"RTS.KRSBPG",@"RTS.KRSG",@"RTS.KRSGG",@"RTS.KSGRG",@"RTS.KSGSG",@"RTS.KTGRG",@"RTS.KTGRPG",@"RTS.KTINARG",@"RTS.KTSB",@"RTS.KTSBG",@"RTS.KTSBP",@"RTS.KTSBPG",@"RTS.KUBE",@"RTS.KUBEG",@"RTS.KUBNG",@"RTS.KUBNPG",@"RTS.KUENG",@"RTS.KUENPG",@"RTS.KUOS",@"RTS.KUOSG",@"RTS.KUSB",@"RTS.KUSBG",@"RTS.KUSBP",@"RTS.KUSBPG",@"RTS.KZBE",@"RTS.KZBEG",@"RTS.KZMS",@"RTS.KZMSG",@"RTS.KZOS",@"RTS.KZOSG",@"RTS.KZRSG",@"RTS.LEKZG",@"RTS.LIENG",@"RTS.LIFE",@"RTS.LKOH",@"RTS.ST.LKOH",@"RTS.LKOHG",@"RTS.LKOHPG",@"RTS.LNTCG",@"RTS.LNTCPG",@"RTS.LOMO",@"RTS.LOMOG",@"RTS.LOMOP",@"RTS.LOMOPG",@"RTS.LPGRG",@"RTS.LPSB",@"RTS.LPSBG",@"RTS.LSNG",@"RTS.LSNGG",@"RTS.LSNGP",@"RTS.LSNGPG",@"RTS.LSRG",@"RTS.LSRGG",@"RTS.MAGE",@"RTS.MAGEG",@"RTS.MAGEP",@"RTS.MAGEPG",@"RTS.MAGN",@"RTS.ST.MAGN",@"RTS.MAGN09G",@"RTS.MAGNG",@"RTS.MANEG",@"RTS.MASZ",@"RTS.MASZG",@"RTS.MDMBP",@"RTS.MDMBPG",@"RTS.MECHG",@"RTS.MEING",@"RTS.MFGS",@"RTS.MFGSG",@"RTS.MFGSP",@"RTS.MFGSPG",@"RTS.MGNT",@"RTS.MGNTG",@"RTS.MGNZ",@"RTS.MGNZG",@"RTS.MGRSG",@"RTS.MGTS",@"RTS.MGTSG",@"RTS.MGTSP",@"RTS.MGTSPG",@"RTS.MIENG",@"RTS.MIENPG",@"RTS.MIGRG",@"RTS.MIGRPG",@"RTS.MINVG",@"RTS.MISB",@"RTS.MISBG",@"RTS.MISBP",@"RTS.MISBPG",@"RTS.MMBM",@"RTS.MMBMG",@"RTS.MORI",@"RTS.MORIG",@"RTS.MOS021G",@"RTS.MOTZ",@"RTS.MOTZG",@"RTS.MRENG",@"RTS.MRGCG",@"RTS.MRGRG",@"RTS.MRKC",@"RTS.MRKCG",@"RTS.MRKH",@"RTS.ST.MRKH",@"RTS.MRKHG",@"RTS.MRKHP",@"RTS.MRKHPG",@"RTS.MRKK",@"RTS.MRKKG",@"RTS.MRKP",@"RTS.MRKPG",@"RTS.MRKS",@"RTS.MRKSG",@"RTS.MRKU",@"RTS.MRKUG",@"RTS.MRKV",@"RTS.MRKVG",@"RTS.MRKY",@"RTS.MRKYG",@"RTS.MRKZ",@"RTS.MRKZG",@"RTS.MRSB",@"RTS.MRSBG",@"RTS.MSNG",@"RTS.ST.MSNG",@"RTS.MSNGG",@"RTS.MSRS",@"RTS.MSRSG",@"RTS.MSSB",@"RTS.MSSBG",@"RTS.MSSV",@"RTS.MSSVG",@"RTS.MSTT",@"RTS.MSTTG",@"RTS.MTLR",@"RTS.MTLRG",@"RTS.MTLRP",@"RTS.MTLRPG",@"RTS.ST.MTSI",@"RTS.MTSS",@"RTS.ST.MTSS",@"RTS.MTSSG",@"RTS.MUGS",@"RTS.MUGSG",@"RTS.MUGSP",@"RTS.MUGSPG",@"RTS.MVID",@"RTS.MVIDG",@"RTS.NATPG",@"RTS.NFAZ",@"RTS.NFAZG",@"RTS.NGGRG",@"RTS.NGGRPG",@"RTS.NGNRG",@"RTS.NGNRPG",@"RTS.NGSB",@"RTS.NGSBG",@"RTS.NGSBP",@"RTS.NGSBPG",@"RTS.NKELG",@"RTS.NKELPG",@"RTS.NKNC",@"RTS.NKNCG",@"RTS.NKNCP",@"RTS.NKNCPG",@"RTS.NKSH",@"RTS.NKSHG",@"RTS.NLMK",@"RTS.ST.NLMK",@"RTS.NLMKG",@"RTS.NMOS",@"RTS.NMOSG",@"RTS.NMTP",@"RTS.ST.NMTP",@"RTS.NMTPG",@"RTS.NNGEG",@"RTS.NNGEPG",@"RTS.NNGRG",@"RTS.NNGRPG",@"RTS.NNSB",@"RTS.NNSBG",@"RTS.NNSBP",@"RTS.NNSBPG",@"RTS.NNSIG",@"RTS.NNSIPG",@"RTS.NOKN",@"RTS.NOKNG",@"RTS.NOMPG",@"RTS.NOMPPG",@"RTS.NOSPG",@"RTS.ST.NOTK",@"RTS.NOVANKG",@"RTS.NPOF",@"RTS.NPOFG",@"RTS.NTMKG",@"RTS.NTRI",@"RTS.NTRIG",@"RTS.NVNG",@"RTS.NVNGG",@"RTS.NVNGP",@"RTS.NVNGPG",@"RTS.NVRCG",@"RTS.NVRCPG",@"RTS.NVTK",@"RTS.ST.NVTK",@"RTS.NVTKG",@"RTS.NZGZ",@"RTS.NZGZG",@"RTS.ODVA",@"RTS.ODVAG",@"RTS.OGKA",@"RTS.ST.OGKA",@"RTS.OGKAG",@"RTS.OGKB",@"RTS.ST.OGKB",@"RTS.OGKBG",@"RTS.OGKC",@"RTS.ST.OGKC",@"RTS.OGKCG",@"RTS.OGKD",@"RTS.OGKDG",@"RTS.OGKE",@"RTS.OGKEG",@"RTS.OGKF",@"RTS.OGKFG",@"RTS.OIVSG",@"RTS.OLMRTSG",@"RTS.OMGRG",@"RTS.OMGRPG",@"RTS.OMNGG",@"RTS.OMNGPG",@"RTS.OMSB",@"RTS.OMSBG",@"RTS.OMSBP",@"RTS.OMSBPG",@"RTS.OMZZ",@"RTS.OMZZG",@"RTS.OMZZP",@"RTS.OMZZPG",@"RTS.OPCMG",@"RTS.OPIN",@"RTS.OPING",@"RTS.OPTMG",@"RTS.ORGRPG",@"RTS.ORNBG",@"RTS.ORNBPG",@"RTS.ORSB",@"RTS.ORSBG",@"RTS.ORSBP",@"RTS.ORSBPG",@"RTS.OTKRBNG",@"RTS.OTKRSHG",@"RTS.PAZA",@"RTS.PAZAG",@"RTS.PBGRPG",@"RTS.PBSB",@"RTS.PBSBG",@"RTS.PBSBP",@"RTS.PBSBPG",@"RTS.PDMS",@"RTS.PDMSG",@"RTS.PEGSG",@"RTS.PETR",@"RTS.PETRG",@"RTS.PFGSG",@"RTS.PFGSPG",@"RTS.PHORG",@"RTS.PHST",@"RTS.PHSTG",@"RTS.PIKK",@"RTS.PIKKG",@"RTS.PKBA",@"RTS.PKBAG",@"RTS.PKBAP",@"RTS.PKBAPG",@"RTS.PLNTG",@"RTS.PLZL",@"RTS.ST.PLZL",@"RTS.PLZLG",@"RTS.PMNGG",@"RTS.PMNGPG",@"RTS.PMOT",@"RTS.PMOTG",@"RTS.PMSB",@"RTS.PMSBG",@"RTS.PMSBP",@"RTS.PMSBPG",@"RTS.PMTL",@"RTS.ST.PMTL",@"RTS.PMTLG",@"RTS.PNTZG",@"RTS.PNZEG",@"RTS.PNZEPG",@"RTS.PPNDG",@"RTS.PRGINGG",@"RTS.PRIM",@"RTS.PRIMG",@"RTS.PRMIG",@"RTS.PROMG",@"RTS.PRTH",@"RTS.PRTHG",@"RTS.PRTK",@"RTS.PRTKG",@"RTS.PSENG",@"RTS.PTGRG",@"RTS.PTRLG",@"RTS.PTRMG",@"RTS.PZGRG",@"RTS.PZGRPG",@"RTS.PZSBG",@"RTS.PZSBPG",@"RTS.RASP",@"RTS.ST.RASP",@"RTS.RASPG",@"RTS.RBCIG",@"RTS.RBCM",@"RTS.RBCMG",@"RTS.REMTSP",@"RTS.REMTSPG",@"RTS.RENMAMG",@"RTS.RENRTSG",@"RTS.RITKG",@"RTS.RITKPG",@"RTS.RKKE",@"RTS.RKKEG",@"RTS.ROELCRG",@"RTS.ROSB",@"RTS.ROSBG",@"RTS.ROSN",@"RTS.ST.ROSN",@"RTS.ROSNG",@"RTS.ROST",@"RTS.ROSTG",@"RTS.RSAM",@"RTS.RSAMG",@"RTS.RSEA",@"RTS.ST.RSTR",@"RTS.RTGRG",@"RTS.RTGRPG",@"RTS.RTKKG",@"RTS.RTKM",@"RTS.RTKMG",@"RTS.RTKMP",@"RTS.RTKMPG",@"RTS.RTMC",@"RTS.RTMCG",@"RTS.RTSB",@"RTS.RTSBG",@"RTS.RTSBP",@"RTS.RTSBPG",@"RTS.RTSEG",@"RTS.RTSEPG",@"RTS.RUAL",@"RTS.RUGR",@"RTS.RUGRG",@"RTS.RUSI",@"RTS.RUSIG",@"RTS.RUSP",@"RTS.RUSPG",@"RTS.RZENG",@"RTS.RZGRG",@"RTS.RZSB",@"RTS.RZSBG",@"RTS.SABPPG",@"RTS.SAGO",@"RTS.SAGOG",@"RTS.SAGOP",@"RTS.SAGOPG",@"RTS.SANGG",@"RTS.SARE",@"RTS.SAREG",@"RTS.SAREP",@"RTS.SAREPG",@"RTS.SBER",@"RTS.ST.SBER",@"RTS.SBERG",@"RTS.SBERP",@"RTS.ST.SBERP",@"RTS.SBERPG",@"RTS.SBNKG",@"RTS.ST.SBPR",@"RTS.ST.SBRF",@"RTS.SCON",@"RTS.SCONG",@"RTS.SELG",@"RTS.SELGG",@"RTS.SEMZ",@"RTS.SEMZG",@"RTS.SGMAG",@"RTS.SHGSG",@"RTS.SIBKSHG",@"RTS.SIBN",@"RTS.ST.SIBN",@"RTS.SIBNG",@"RTS.SILM",@"RTS.SILMG",@"RTS.SILVG",@"RTS.SITR",@"RTS.SITRG",@"RTS.SKGZG",@"RTS.SKGZPG",@"RTS.SLDMDIG",@"RTS.SLDMING",@"RTS.SLDMSIG",@"RTS.SMARRIG",@"RTS.SMARSMG",@"RTS.SMARZAG",@"RTS.SMGRG",@"RTS.SMGRPG",@"RTS.SMGSG",@"RTS.SMGSPG",@"RTS.SMOEG",@"RTS.SMOEPG",@"RTS.SMSB",@"RTS.SMSBG",@"RTS.SMSBP",@"RTS.SMSBPG",@"RTS.ST.SNGP",@"RTS.ST.SNGR",@"RTS.SNGS",@"RTS.ST.SNGS",@"RTS.SNGSG",@"RTS.SNGSP",@"RTS.ST.SNGSP",@"RTS.SNGSPG",@"RTS.SNOZ",@"RTS.SNOZG",@"RTS.SNTZ",@"RTS.SNTZG",@"RTS.SPGRG",@"RTS.SPTLG",@"RTS.SPTLPG",@"RTS.SSHGG",@"RTS.SSHGPG",@"RTS.STBK",@"RTS.STBKG",@"RTS.STBKPA",@"RTS.STBKPAG",@"RTS.STGRG",@"RTS.STGRPG",@"RTS.STGSG",@"RTS.STNGG",@"RTS.STNGPG",@"RTS.STRGG",@"RTS.STRGPG",@"RTS.STSB",@"RTS.STSBG",@"RTS.STSBP",@"RTS.STSBPG",@"RTS.SVAV",@"RTS.SVAVG",@"RTS.SVERG",@"RTS.SVERPG",@"RTS.SVLNG",@"RTS.SVSB",@"RTS.SVSBG",@"RTS.SVSBP",@"RTS.SVSBPG",@"RTS.SVTZ",@"RTS.SVTZG",@"RTS.SVZKG",@"RTS.SVZKPG",@"RTS.SYNG",@"RTS.SYNGG",@"RTS.SZRP",@"RTS.SZRPG",@"RTS.TAENG",@"RTS.TAENPG",@"RTS.TAMZ",@"RTS.TAMZG",@"RTS.TANL",@"RTS.TANLG",@"RTS.TANLP",@"RTS.TANLPG",@"RTS.TASB",@"RTS.TASBG",@"RTS.TASBP",@"RTS.TASBPG",@"RTS.TATN",@"RTS.ST.TATN",@"RTS.TATNG",@"RTS.TATNP",@"RTS.TATNPG",@"RTS.TCBN",@"RTS.TCBNG",@"RTS.TEST2",@"RTS.TEST9",@"RTS.TFTK01",@"RTS.TGKA",@"RTS.ST.TGKA",@"RTS.TGKAG",@"RTS.TGKB",@"RTS.TGKBG",@"RTS.TGKBP",@"RTS.TGKBPG",@"RTS.TGKD",@"RTS.TGKDG",@"RTS.TGKDP",@"RTS.TGKDPG",@"RTS.TGKE",@"RTS.TGKEG",@"RTS.TGKF",@"RTS.TGKFG",@"RTS.TGKG",@"RTS.TGKGG",@"RTS.TGKHG",@"RTS.TGKI",@"RTS.TGKIG",@"RTS.TGKJ",@"RTS.TGKJG",@"RTS.TGKK",@"RTS.TGKKG",@"RTS.TGKM",@"RTS.TGKMG",@"RTS.TGKN",@"RTS.TGKNG",@"RTS.TGKO",@"RTS.TGKOG",@"RTS.TGVKG",@"RTS.TLENG",@"RTS.TLSB",@"RTS.TLSBG",@"RTS.TMAT",@"RTS.TMATG",@"RTS.TMNGG",@"RTS.TNBP",@"RTS.TNBPG",@"RTS.TNBPP",@"RTS.TNBPPG",@"RTS.TNKOG",@"RTS.TOMEG",@"RTS.TOMEPG",@"RTS.TORS",@"RTS.TORSG",@"RTS.TORSP",@"RTS.TORSPG",@"RTS.TOSB",@"RTS.TOSBG",@"RTS.TOSBP",@"RTS.TOSBPG",@"RTS.TRCN",@"RTS.TRMK",@"RTS.TRMKG",@"RTS.ST.TRNF",@"RTS.TRNFP",@"RTS.ST.TRNFP",@"RTS.TRNFPG",@"RTS.TROYDNG",@"RTS.TROYDRG",@"RTS.TROYENG",@"RTS.TROYFDG",@"RTS.TROYFSG",@"RTS.TROYIMG",@"RTS.TROYMTG",@"RTS.TROYNCG",@"RTS.TROYPSG",@"RTS.TROYPTG",@"RTS.TROYRBG",@"RTS.TROYSDG",@"RTS.TROYTCG",@"RTS.TTLK",@"RTS.TTLKG",@"RTS.TUZA",@"RTS.TUZAG",@"RTS.TVGRG",@"RTS.TVGRPG",@"RTS.TVREG",@"RTS.TVREPG",@"RTS.TVSB",@"RTS.TVSBG",@"RTS.TVSBP",@"RTS.TVSBPG",@"RTS.TZUM",@"RTS.TZUMG",@"RTS.UDGRG",@"RTS.UDGRPG",@"RTS.UDMEG",@"RTS.UDMEPG",@"RTS.UDMNG",@"RTS.UDMNPG",@"RTS.UDSB",@"RTS.UDSBG",@"RTS.UDSBP",@"RTS.UDSBPG",@"RTS.UDTLG",@"RTS.UFMO",@"RTS.UFMOG",@"RTS.UFNC",@"RTS.UFNCG",@"RTS.UFNCP",@"RTS.UFNCPG",@"RTS.UFOS",@"RTS.UFOSG",@"RTS.UFOSP",@"RTS.UFOSPG",@"RTS.UKUZ",@"RTS.UKUZG",@"RTS.UNAC",@"RTS.UNACG",@"RTS.URKA",@"RTS.ST.URKA",@"RTS.URKAG",@"RTS.URSAPG",@"RTS.URSIG",@"RTS.URSIPG",@"RTS.USAMCIG",@"RTS.USBN",@"RTS.USBNG",@"RTS.UTIIG",@"RTS.UUGSG",@"RTS.VDGRG",@"RTS.VDSB",@"RTS.VDSBG",@"RTS.VERT",@"RTS.VERTG",@"RTS.VGENG",@"RTS.VGENPG",@"RTS.VGOKG",@"RTS.VGSB",@"RTS.VGSBG",@"RTS.VGSBP",@"RTS.VGSBPG",@"RTS.VICMPZG",@"RTS.VICMTZG",@"RTS.VIMPG",@"RTS.VJGZ",@"RTS.VJGZG",@"RTS.VJGZP",@"RTS.VJGZPG",@"RTS.VLDIMSG",@"RTS.VLENG",@"RTS.VLGSG",@"RTS.VLGSPG",@"RTS.VLGTG",@"RTS.VMRKG",@"RTS.VMRKPG",@"RTS.VOLEG",@"RTS.VOLGG",@"RTS.VOLGPG",@"RTS.VOSB",@"RTS.VOSBG",@"RTS.VOTGG",@"RTS.VRAO",@"RTS.VRAOG",@"RTS.VRAOP",@"RTS.VRAOPG",@"RTS.VRGRG",@"RTS.VRPH",@"RTS.VRPHG",@"RTS.VRSB",@"RTS.VRSBG",@"RTS.VRSBP",@"RTS.VRSBPG",@"RTS.VSMO",@"RTS.VSMOG",@"RTS.VSMZ",@"RTS.VSMZG",@"RTS.VTBR",@"RTS.ST.VTBR",@"RTS.VTBRG",@"RTS.VTLDG",@"RTS.VYGRG",@"RTS.VYGRPG",@"RTS.VZENG",@"RTS.VZENPG",@"RTS.VZGRG",@"RTS.VZGRPG",@"RTS.VZRZ",@"RTS.VZRZG",@"RTS.WBDF",@"RTS.WBDFG",@"RTS.WTCM",@"RTS.WTCMG",@"RTS.WTCMP",@"RTS.WTCMPG",@"RTS.YAEN",@"RTS.YAENG",@"RTS.YAENP",@"RTS.YAENPG",@"RTS.YAKG",@"RTS.YAKGG",@"RTS.YAREG",@"RTS.YAREPG",@"RTS.YRGRPG",@"RTS.YRSB",@"RTS.YRSBG",@"RTS.YRSBP",@"RTS.YRSBPG",@"RTS.YUKOG",@"RTS.ZAGRG",@"RTS.ZEMC",@"RTS.ZEMCG",@"RTS.ZILL",@"RTS.ZILLG",@"RTS.ZIMA",@"RTS.ZIOPG",@"RTS.ZMZN",@"RTS.ZMZNG",@"RTS.ZVEZ",@"RTS.ZVEZG",@"RTS.ZYGSG",@"RTS.ZYGSPG"};
//------------------------------------------------Main Functions-------------------------------------------------------------
+(void)getDataForChart:(NSString*)instrumentCode:(NSDate*)start:(QuotationType)bidType:(void(^)(Quotation*))handler{
    NSDictionary* args = [NSDictionary dictionaryWithObjectsAndKeys:
                          instrumentCode, @"instrumentCode", start, @"start", [NSNumber numberWithInt:bidType], @"bidType", handler, @"handler", nil];
    [RTS_Loader performSelectorInBackground:@selector(runDataForChart:) withObject:args];    
}
+(void)runDataForChart:(NSDictionary*)args{
    NSString* instrumentCode=[args objectForKey:@"instrumentCode"];
    HistoryLoader* loader=[HistoryLoader newHistoryLoader];
    QuotationType bidType=[[args objectForKey:@"bidType"] intValue];
    [loader load:[RTS_Loader getMarketId:instrumentCode]:[RTS_Loader getInstrumentId:instrumentCode]:instrumentCode:[args objectForKey:@"start"]:bidType];
    [RTS_Loader getCurrentValueAsync:instrumentCode:[args objectForKey:@"handler"]];
}
+(void)getCurrentValueAsync:(NSString*)instrumentCode:(void(^)(Quotation*))handler{
    NSDictionary* args = [NSDictionary dictionaryWithObjectsAndKeys:
                          instrumentCode, @"instrumentCode", handler, @"handler", nil];
    [RTS_Loader performSelectorInBackground:@selector(runCurrentValue:) withObject:args];
}
+(void)runCurrentValue:(NSDictionary*)args{    
    NSString *instrumentCode=[args objectForKey:@"instrumentCode"];    
    NSString* query=[[NSString alloc] initWithFormat:@"%@?code=%@", serverAddress, instrumentCode];
    NSArray *issues = PerformXMLXPathQuery([NSData dataWithContentsOfURL:[NSURL URLWithString:query]], @"//issue");    
    id issue=[issues objectAtIndex:0];
    NSString* price=[issue objectForKey:@"trade_price"];
    if(price==@"")
        price=[issue objectForKey:@"best_ask"];
    NSString* date=[issue objectForKey:@"trade_moment"];    
    NSDate* dateObj;
    if(date==@"")
        dateObj=[NSDate date];
    else{ 
        NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
        [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
        dateObj=[formatter dateFromString:date];
    }
    Quotation* q=[Quotation newQuotation:[price doubleValue]:dateObj:Hour_Bid];
    void (^handler)(Quotation*)=[args objectForKey:@"bidType"];
    handler(q);    
}
+(double)getCurrentValue:(NSString*)instrumentCode{		
    instrumentCode=[instrumentCode stringByReplacingOccurrencesOfString:@"RTS." withString:@""];
    NSString* query=[NSString stringWithFormat:@"%@?code=%@", serverAddress, instrumentCode];
    NSArray *issues = PerformXMLXPathQuery([NSData dataWithContentsOfURL:[NSURL URLWithString:query]], @"//issue");    
    id issue=[issues objectAtIndex:0];
    NSString* price=[issue objectForKey:@"trade_price"];
    if(price==@"")
        price=[issue objectForKey:@"best_ask"];
    return [price doubleValue];				
}
//--------------------------------------Help Functions-------------------------------------------------------
+(int)getMarketId:(NSString*)instrumentCode{        
    int size=sizeof(EmitentCodes)/sizeof(int);
    for(int i=0;i<size;i++){
        if(EmitentCodes[i]==instrumentCode)
            return EmitentMarkets[i];
    }
    return 0;
}
+(int)getInstrumentId:(NSString*)instrumentCode{  
    int size=sizeof(EmitentIds)/sizeof(int);
    for(int i=0;i<size;i++){
        if(EmitentCodes[i]==instrumentCode)
            return EmitentIds[i];
    }
    return 0;
}
@end
